<!DOCTYPE html>
<html>
<head><title>LLM Setup</title></head>
<body>
  {% if missing_credentials %}
    <h2>Enter OpenAI Credentials</h2>
    <form method="post">
      API Key: <input type="text" name="api_key" required><br>
      Model: <input type="text" name="model" value="gpt-4"><br>
      <input type="submit" value="Save and Continue">
    </form>
  {% else %}
    <h2>Column and Mode Selection</h2>
    <form method="post">
      <label>Select column to analyze:</label><br>
      <select name="column">
        {% for col in columns %}
          <option value="{{ col }}">{{ col }}</option>
        {% endfor %}
      </select><br><br>
      <button name="mode" value="summarize">Summarize</button>
      <button name="mode" value="classify">Classify</button>
    </form>
  {% endif %}
</body>
</html>
